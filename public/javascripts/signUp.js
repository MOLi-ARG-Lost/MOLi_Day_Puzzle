var signUp_modules=(()=>{var e={};const t=new RegExp(/^10\d{7}$/),a=new RegExp(/^[-a-zA-Z_\s\u4e00-\u9fa5]{2,}$/),s=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),n=new RegExp(/^(?=.*[a-zA-Z])[0-9a-zA-Z]{4,}$/);function i(){alert("You have to looking for the clues in this page")}function l(){$("#errorPanel").fadeOut("slow",()=>{$("#errorPanel, #puzzleInfo").removeClass("d-block"),$("#errorPanel, #puzzleInfo").addClass("d-none")}),$("#registerPanel").fadeIn("slow",()=>{$("#registerPanel, #registeInfo").removeClass("d-none"),$("#registerPanel, #registeInfo").addClass("d-block")})}function o(){invalid=[],teamObject={"團隊密碼":n.test($("#teamPassword").val())?$("#teamPassword").val():"","主要聯絡人":{"學號":t.test($("#mainStudentID").val())?$("#mainStudentID").val():"","姓名":a.test($("#mainName").val())?$("#mainName").val():"","信箱":s.test($("#mainEmail").val())?$("#mainEmail").val():""},"夥伴一":{"學號":t.test($("#secondStudentID").val())?$("#secondStudentID").val():"","姓名":a.test($("#secondName").val())?$("#secondName").val():"","信箱":s.test($("#secondEmail").val())?$("#secondEmail").val():""},"夥伴二":{"學號":t.test($("#thirdStudentID").val())?$("#thirdStudentID").val():"","姓名":a.test($("#thirdName").val())?$("#thirdName").val():"","信箱":s.test($("#thirdEmail").val())?$("#thirdEmail").val():""}};for(let e in teamObject)if("object"==typeof teamObject[e])for(let t in teamObject[e])""===teamObject[e][t]&&invalid.push("無效的"+e+t);else""===teamObject[e]&&invalid.push("無效的"+e);invalid.length>0?($("#showMsg").removeClass("d-none"),$("#showMsg").addClass("d-block"),$("#showMsg").text(function(e){let t="";for(let a=0;a<e.length;a++)t+=e[a],a!==e.length-1&&(t+=", ");return t}(invalid))):($("#showMsg").removeClass("d-block"),$("#showMsg").addClass("d-none"),$("#showMsg").text(""),$("#submit").prop("disabled",!0),$("#submit").removeClass("btn-primary"),$("#submit").addClass("btn-secondary"),function(e){let t=0;fetch("/_api/HereIsYourEntrance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>(t=e.status,e.json())).then(e=>{200===t&&(alert(e.message),$("#submit").removeClass("btn-secondary"),$("#submit").addClass("btn-success"),$("#submit").html("註冊成功")),403===t&&(alert(e.error),$("#submit").prop("disabled",!1),$("#submit").removeClass("btn-secondary"),$("#submit").addClass("btn-primary"))}).catch(e=>{alert("網路錯誤，請重新再試"),$("#submit").prop("disabled",!1),$("#submit").removeClass("btn-secondary"),$("#submit").addClass("btn-primary"),console.log("Network Error: ",e)})}(teamObject))}return e.init=(()=>{$("#getHint").bind("click",i),$("#label-brain").bind("click",l),$("#submit").bind("click",o),function(){function e(e){e.addClass("is-valid"),e.removeClass("is-invalid")}function i(e){e.addClass("is-invalid"),e.removeClass("is-valid")}$("#teamPassword").on("focusout",t=>{n.test(t.target.value)?e($("#teamPassword")):i($("#teamPassword"))}),$("#mainStudentID, #secondStudentID, #thirdStudentID").on("focusout",a=>{t.test(a.target.value)?e($("#"+a.target.id)):i($("#"+a.target.id))}),$("#mainName, #secondName, #thirdName").on("focusout",t=>{a.test(t.target.value)?e($("#"+t.target.id)):i($("#"+t.target.id))}),$("#mainEmail, #secondEmail, #thirdEmail").on("focusout",t=>{s.test(t.target.value)?e($("#"+t.target.id)):i($("#"+t.target.id))})}()}),e})();